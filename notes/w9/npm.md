
今天聽小賴老師上課提到關於版本的業界故事，原來升版是個很重要的事情，
老師還會去看版本前後更新的差別，去測試看看有沒有副作用，升版後一定要全部重新測試，很佩服老師的細心程度
我以前根本沒有去注意到版本差異，只要程式可以跑就好了，我想要改掉這個壞習慣，至少要先認真看待軟體的版本
，該如何固定版本，版本號碼之間差異，查找使用套件維運的品質，套件有沒有過時的部分。


參考自這一篇文章 [npm best practice](https://blog.risingstack.com/nodejs-at-scale-npm-best-practices/)


# Node.js at Scale：使用 npm 的最佳實踐

---

## #0 了解你的 npm
- **版本查詢**：可以用 `npm --version` 查看當前 npm 版本，
也可以用 `npm version` 查看更多細節（例如 Node.js 和 V8 引擎的版本）。
- **npm 幫助**：使用 `npm help <command>` 查找 npm 指令的詳細說明，非常適合查詢特定指令用法。

## #1 用 `npm init` 開始新專案
- `npm init` 可幫助你快速建立 `package.json`，並會問你一連串設定問題。
- **快速建立**：若不想一一回覆問題，可用 `npm init --yes`，直接生成預設的 `package.json`。
- **設定預設值**：可以用 `npm config set` 指令來設定預設的作者名稱和電郵，方便快速建立新專案。

## #2 找到合適的 npm 套件
- **挑選套件**：挑選 npm 套件有時候很難，可以參考 `npms.io`，它會根據套件的品質、人氣和維護狀況給出評分，
幫助你更快找到合適的套件。

## #3 調查 npm 套件
- **檢查文件和問題**：在使用套件前，最好先看一下套件的文件和問題列表。可以用 `npm home` 開啟套件首頁，或用 `npm bugs` 查看開放問題，這樣可以減少未來遇到錯誤的風險。

## #4 安裝並儲存依賴
- **安裝依賴**：用 `npm install <package-name> --save` 可以安裝並自動將套件加入 `package.json`。
- **版本控制**：npm 會自動加上 `^` 符號來指定非大版本更新，若想要確保版本完全一致，可以設定 `npm config set save-exact true`。

## #5 鎖定依賴版本
- **使用 shrinkwrap 鎖定版本**：為了避免不同環境下套件版本不一致，可用 `npm shrinkwrap` 來鎖定當前的依賴版本。這樣在部署時就可以確保一樣的版本配置。

## #6 檢查過時的依賴
- **檢查更新**：用 `npm outdated` 查看哪些套件有新版本，維護專案更輕鬆。若維護多個專案，可以使用 **Greenkeeper** 來自動檢查並發送更新提醒。

## #7 生產環境不要包含開發依賴
- **只安裝生產依賴**：在生產環境中，只需安裝真正需要的套件，可用 `npm install --production` 確保只包含生產環境需要的套件，降低安全風險。

## #8 保護你的項目和憑證
- **保護憑證**：npm 的登入憑證存放在 `.npmrc` 中，務必避免將這些檔案上傳到 GitHub。若專案中有 `.npmignore`，它會覆蓋 `.gitignore` 的設定，請多加注意。

## #9 在本地開發套件
- **使用 npm link**：若你在本地開發自製套件，可用 `npm link` 將它連結到其他專案，模擬套件被正式安裝的狀況，這樣能更快進行測試。

---

透過以上這些 npm 技巧與最佳實踐，你可以大幅提高 Node.js 專案的開發效率並避免常見的問題！