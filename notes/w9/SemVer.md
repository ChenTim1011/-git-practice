老師上課提到的 package.josn ^ and ~ 差別，以前都沒有注意到，聽老師的故事才發現版本原來這麼重要!


### 參考文章

[Understanding ^ and ~ Prefixes](https://www.linkedin.com/pulse/demystifying-semver-packagejson-understanding-prefixes-ankur-soni-5ymbf/)

---

## 語意化版本控制 (SemVer)
語意化版本控制 (Semantic Versioning，簡稱 SemVer) 是一種軟體版本控制方式，旨在透過版本號碼表達更新的意涵。此版本控制在 JavaScript 生態系統中廣泛應用，特別是在 `package.json` 檔案中用於管理依賴。SemVer 的結構由三部分組成：`MAJOR.MINOR.PATCH`，分別代表：

- **MAJOR (主版本)**：表示有不相容的 API 變更。
- **MINOR (次版本)**：新增了向後相容的新功能。
- **PATCH (修補版本)**：提供向後相容的錯誤修復。

在 `package.json` 中，您可能會看到版本號碼前有 `^` 或 `~` 符號，這些符號用於指定 npm 應如何處理依賴更新：

- **插入號 (^)**：允許不改變最左邊非零數字的更新。例如，`^19.0.0` 允許更新至 `19.0.1` 或 `19.1.0`，但不允許更新至 `20.0.0`，適合允許次版本和修補版本的更新，防止重大更新引入的相容性問題。
  
- **波浪號 (~)**：限制更新範圍至指定的次版本。例如，`~19.0.0` 允許更新至 `19.0.1` 或 `19.1.0`，但不允許更新至 `19.2.0` 或 `20.0.0`，這比 `^` 更嚴格，以確保穩定性，同時允許少量更新。

這些前綴符號幫助管理依賴更新，並控制更新的幅度。
---


### 使用 SemVer 的最佳實踐

1. **使用語意化版本控制指定依賴**：以 SemVer 控制版本，確保專案在不同環境及團隊間一致性。

2. **運用 package-lock.json**：確保依賴版本的一致性，防止因不一致的版本導致問題。

3. **定期檢查依賴安全性**：使用 `npm audit` 進行安全性檢查，並透過 `npm audit --fix` 修復漏洞。

4. **對問題套件進行版本鎖定**：若新版本有相容性問題，考慮鎖定至已知穩定版本，待穩定後再更新。

5. **關注依賴更新**：使用 `npm outdated` 監控依賴更新，方便規劃更新策略。

6. **提供清晰文件**：在專案文件中清楚說明設置和使用方法。

7. **多版本 Node.js 測試**：在多個 Node.js 版本下進行測試，確保相容性。

8. **考慮使用 npm ci 進行乾淨安裝**：適合需要一致性和速度的專案。

9. **評估套件品質**：添加新套件前，評估其下載量、維護狀況、文件清晰度及安全漏洞。

10. **謹慎管理對等依賴 (peerDependencies)**：正確管理可確保相容性。