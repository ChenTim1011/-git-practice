## 第 16 周上課 

### 表單驗證
### 密碼字元組合

- 密碼字元組合


- 確保密碼包含多種字元類型（如大寫字母、小寫字母、數字和特殊符號），以增強密碼的強度，防止簡單密碼被破解。

### 密碼更換頻率

- 幾個月改一次密碼


- 定期要求用戶更換密碼（例如每3個月一次），以減少密碼被長期使用而被破解的風險。

### 密碼相似度檢查

- 有些會去看密碼相似度


- 驗證新密碼與之前使用過的密碼之間的相似度，防止用戶重複或僅做微小變化，提高安全性。

### 密碼與帳號不同

- 密碼不能和帳號一樣


- 防止用戶設置與帳號相同的密碼，以避免帳號被輕易猜測或破解。

---

## 資安漏洞

### 人為因素

- 資安漏洞來自人類


- 許多資安漏洞源於人為錯誤或疏忽，如弱密碼設定、不當的權限管理等，因此加強人員培訓和意識非常重要。

---

## 防止自動化攻擊

### 非機器人驗證

- 我不是機器人可以去練習做


- 使用 CAPTCHA 等技術來區分人類用戶和自動化機器人，防止自動化攻擊。

### 註冊防禦無窮攻擊

- 註冊應該要放 避免無窮攻擊


- 實施限制措施，如速率限制（rate limiting）和 CAPTCHA，防止惡意用戶進行無限量的註冊請求，避免伺服器資源耗盡。

---

## 注入攻擊防範

### Injection 類型

- 安全性 injection 
- rich editor 
- textarea  輸入script alert("123") script html有這一段 
- 如果有惡意網址會被轉走


- 注入攻擊包括 SQL 注入、跨站腳本（XSS）等。用戶在富文本編輯器或文本區域中輸入惡意腳本可能導致安全漏洞。

### 防範注入的方法

- 如何防範 injection?
- 各種 injection
- 小心 SQL injection 拿到資料庫所有資料
- html 有內建表單驗證
- <input type="email">
- 善用第三方套件


1. **使用參數化查詢**：防止 SQL 注入，確保查詢語句中參數的安全性。
2. **輸入驗證和過濾**：利用 HTML 內建的表單驗證（如`<input type="email">`）來初步檢查用戶輸入。
3. **使用第三方安全套件**：採用經過驗證的第三方庫來處理輸入和防範常見的注入攻擊。

---

## 前後端驗證

### 前端驗證

- 前端驗證為了降低後端負擔還有增加使用者體驗


- 前端驗證可以即時提供用戶反饋，提升使用者體驗，並減少不必要的伺服器請求，降低後端負擔。

### 後端驗證

- 後端也要驗證 帳號是否唯一 重複儲存 很快兩次送出 應該要防 按鈕按出去要先disable
- 後端 永遠不可以相信來自前端的內容 必須要做二次驗證 負擔小的驗證先做，驗證是有順序性的
- 後端永遠不可以相信來自前端資料
- 為什麼還要在驗證一次  我可以關閉js 或是 postman curl 繞開驗證  
- 前後端驗證規則要一致，尤其前後端是不同人


- **資料完整性與安全性**：後端需對所有輸入進行驗證，因為前端驗證可以被繞過（如關閉JavaScript或使用工具）。
- **避免重複提交**：檢查帳號是否唯一，防止重複儲存，並在提交後禁用按鈕以防止重複請求。
- **一致性驗證規則**：確保前後端的驗證規則一致，避免因不同人實現而導致的漏洞。

---

## 使用者體驗（UX）與界面設計（UI）

### 友善的提示與錯誤資訊

- placeholder 提示框 友善的錯誤資訊 強調輸入框的狀態  友善的錯誤資訊


- 使用占位符和清晰的錯誤訊息，並通過視覺效果（如高亮輸入框）來指示錯誤，提升用戶體驗。

### UX 與 UI 的區別

- ux 是很好用 ui 是很好看 兩者是兩件事情


- **UX（使用者體驗）**：專注於產品的可用性和功能，確保用戶操作順暢。
- **UI（使用者界面）**：專注於視覺設計和界面的美觀，提升產品的吸引力。

### API 作為使用者介面

- 讓使用者知道要做甚麼事情， api 也是一種使用者介面


- API 設計應清晰明確，讓開發者理解如何使用，這也是一種介面設計，類似於用戶界面的友善性。

---

## 後端安全與最佳實踐

### 帳號唯一性與防重複儲存

- 後端也要驗證 帳號是否唯一 重複儲存 很快兩次送出 應該要防 按鈕按出去要先 disable


- 確保帳號的唯一性，防止資料庫中出現重複帳號。通過禁用提交按鈕，可以減少快速連續提交導致的重複儲存問題。

### 永不信任前端

- 後端 永遠不可以相信來自前端的內容 必須要做二次驗證 負擔小的驗證先做，驗證是有順序性的
- 後端永遠不可以相信來自前端資料
- 為什麼還要在驗證一次  我可以關閉 js 或是 postman curl 繞開驗證


- 後端必須對所有來自前端的資料進行驗證，因為前端的驗證可以被繞過。應先進行負擔較小的驗證，再進行更複雜的驗證，以提高效率。

### 資料清理與消毒

- 消毒 清除可能的惡意內容!!   寫 regular expression 


- 對用戶輸入進行消毒，移除或轉義可能的惡意內容（如腳本），防止 XSS 等攻擊。可以使用正則表達式來檢查和過濾輸入。

---

## 密碼管理與儲存

### 密碼儲存方式

- 密碼儲存  
- 不可以用明文儲存密碼 
- 不要用 MD5 用 SHA1
- Argon2 bcrypt


- **避免明文儲存**：永遠不應以明文形式儲存密碼。
- **安全雜湊算法**：使用強加密雜湊算法如 Argon2 或 bcrypt，而不是不安全的 MD5 或 SHA1。

### 防範彩虹表攻擊

- 彩虹表攻擊
- 加鹽加胡椒


- **彩虹表攻擊**：利用預先計算的雜值表來逆推出密碼。
- **加鹽加胡椒**：在密碼雜湊時加入隨機數（鹽）和額外秘密（胡椒），增加破解難度。

---

## 系統設計與架構

### 系統設計原則

- 系統設計
- 手段 工具 做法
- 適用哪一些情境 解決那些問題


- 系統設計應根據具體需求選擇合適的手段、工具和方法，針對不同情境解決相應的問題。

### 資料庫設計

- 資料庫獨立出來
- 同時放在mysql和nosql 選擇適合特性


- 將資料庫獨立管理，根據資料性質選擇合適的資料庫類型，如使用MySQL處理結構化資料，NoSQL處理非結構化資料，以發揮各自的優勢。

### 負載均衡與擴展性

- Load balancer
- private subnet
- 進入私有網路
- security group
- nginx 自己用會有單點故障
- 用aws ALB 幫你擴展
- 先垂直擴展，到達瓶頸後再水平擴展，
- 原本系統不是無狀態，水平有困難


- **負載均衡器**：使用如 AWS 的 ALB 來分散流量，避免單點故障。
- **私有子網與安全組**：確保系統在私有網路中運行，並通過安全組控制進出流量。
- **擴展策略**：
  - **垂直擴展**：先增加單一伺服器的資源（如CPU、記憶體）。
  - **水平擴展**：當垂直擴展達到瓶頸後，增加更多伺服器以分擔負載。
- **無狀態架構**：設計無狀態系統以便更容易進行水平擴展，避免因狀態依賴導致的擴展困難。

### 資料庫讀寫分離

- 資料庫讀寫分離，讀多寫少 還是 讀少寫多
- log 寫多讀少
- 讀寫分離 main、 rebelica 資料庫個數基數台 避免同票
- 分散是網路分區出問題，會各自投出老大，叫做腦裂 


- **讀寫分離**：將讀操作和寫操作分離，通常配置主資料庫處理寫操作，從資料庫處理讀操作，以提升性能。
- **避免單一故障點**：使用多個資料庫實例（如主從架構），防止單一節點故障影響整體系統。
- **腦裂問題**：在網路分區時，各個資料庫節點可能會選出不同的主節點，導致資料不一致。

### 快取與CDN

- 使用cache 
- 過期策略 何時適合
- 一直過期 不一致
- 資料庫與快取一致姓
- 驅逐紀綠
- CDN 快取靜態資料  一種快取
- CDN fallback cdn拿不到 到資料料庫
- 沒有西班牙文 退一步去拿英文的部分


- **快取策略**：
  - 設定適當的過期時間，確保快取資料的新鮮度與一致性。
  - 使用驅逐策略（如LRU）管理快取空間，移除不常使用的資料。
- **CDN（內容傳遞網路）**：
  - 快取靜態資源（如圖片、CSS、JavaScript），提高載入速度。
  - 設定回退機制，當CDN無法提供資源時，從原伺服器獲取。
  - 提供多語言支持，當特定語言資源缺失時，退回使用默認語言。

---

## 軟體工程師的心態與職業發展

### 解決問題與交付價值

- 我懂得還不夠多
- 開發出來東西沒有辦法解決問題，就沒有價值
- 我不喜歡寫code 我喜歡解決問題  
- 軟體工程師是交付價值，不是交付軟體，
- code 只是交付價值的一個手段，不是全部，
- 有更好的解決方法可以去做
- 不要拿著槌子就看全世界都是釘子


- **重視解決問題**：軟體開發的目的是為了解決具體問題，僅僅寫代碼而不解決實際需求是沒有價值的。
- **價值導向**：程式碼是實現價值的一種手段，應該尋找最佳的解決方案，而不是僅依靠程式碼。

### 學習與成長

- 珍惜在學校的日子  
- 比工作幸福很多
- 先動就好，但是不要就停在那裡，不同技術能力分別在於能不能精進
- 拖延症就是過度完美，做出來再優化
- 放下完美 追求優化，不斷迭代進步
- 改掉壞習慣，作業交了就算了。


- **持續學習**：在學校時期是積累知識和技能的關鍵時期，應充分利用。
- **行動與迭代**：開始行動比追求完美更重要，通過不斷優化和迭代來提升技能。
- **改進習慣**：避免拖延和過度追求完美，學會在完成任務後適時放手，繼續前進。

### 團隊合作與溝通

- 剛進公司看到前輩的程式很爛
- 說不定是有歷史包袱，試著理解前輩的處境，不一定是真的濫
- 提出問題是有學問的不能太直接
- 新人要去記住難用的功能 習慣用就失去
- 前輩也要重視新人意見
- 珍惜不在框架的人的意見
- 逼迫你重新思考，可以讓你有跳出框架的機會
- 對於一直以來做事方法質疑，更好的方式去表達疑問


- **理解與尊重**：對前輩的工作成果保持理解和尊重，避免直接批評。
- **有效溝通**：以建設性的方式提出問題和建議，促進團隊合作和改進。
- **雙向學習**：新人應學習並適應現有系統，前輩也應重視並考慮新人的創新意見。

### 技能與表達

- 避免成為0.1倍工程師 什麼樣的行為? 避免成為拖累別人的工程師
- 老師第一份工作遇到雷隊友的經歷 mark by Jeff
- 練習思考和表達觀點，表達能力和技術能力一樣重要!
- 謹慎對待新技術，舊的技術可以存活是有理由的
- 新技術是在解決什麼問題? 只有它可以解決嗎?
- 練習留意細節! 不要忽略每一個小地方，但哪些細節注意啊?  我要怎麼樣改善?  
- 定期寫作表達自己的意見，練習表達和溝通，練習的過程釐清很多思緒，教學是很好的方式
- 不需要藏私，就只是早知道而已，多教別人，不用怕被超車，把握練習機會


- **全面發展**：避免成為僅有部分技能的工程師，應全面提升技術和軟技能。
- **表達能力**：技術能力與表達能力同等重要，能有效溝通想法和意見有助於職業發展。
- **技術選擇**：謹慎評估新技術的必要性，理解其解決的問題及其優缺點。
- **細節關注**：注意每一個細節，持續改進，提升工作的品質和效率。
- **知識分享**：通過教學和寫作來鞏固和表達自己的知識，並幫助他人學習。

### 角色責任與心理健康

- ownership 是什麼? 重頭到尾由你負責由你扛，剛進公司小螺絲釘通常都是做主管交代的任務，
- 但當你逐漸成長開始扛責任，ownership 是需要有信用度才可以，想到我有當組長扛責任，
- 是我的組員相信我
- 不要內耗，最近有霸凌新聞，有時候不是你的錯，不要內耗


- **Ownership**：指對項目或任務全程負責，隨著成長承擔更多責任，贏得團隊信任。
- **避免內耗**：在團隊中避免無謂的內部衝突和競爭，保持積極的工作氛圍。

### 壓力管理與心態

- 卡住和沮喪的時候，每個人都有，看到社群軟體大家光鮮亮麗的一面，大家分享好的東西，但別忘了
- 他們背後辛苦的過程。 
- 成長心態，解決問題，小心使用放棄，除非影響到身心靈健康
- 台積電故事， 一直往前衝，最後卻被壓力壓垮，站在門口沒有辦法抬腳進去
- 覺察到自己的壓力，不要忽略身心靈健康 
- 雖然現在可能沒辦法解決，只是現在沒有解決方法
- 人生還很長，永遠來得及
- 審慎做決定，做錯決策也沒關係，只是可能比較辛苦
- 人生是等價交換，但人絕對會後悔，其實回到過去從來還是會做一樣的決定 
- 就算想得很完美，結果也不一定你想的，我也是研究所推甄放榜前想得很美好，
- 卻被現實打趴在地上。


- **壓力管理**：每個人都會遇到困難和壓力，應正確認識和管理壓力，避免忽視身心健康。
- **成長心態**：保持積極的學習和成長心態，面對挑戰時不輕易放棄，除非影響到健康。
- **接受現實**：理解即使計劃再完善，現實中也可能遇到意料之外的困難，學會適應和調整。
- **長遠視角**：人生漫長，遇到困難時不必過於焦慮，總有解決的方法和機會。

### 決策與反思

- 審慎做決定，做錯決策也沒關係，只是可能比較辛苦
- 人生是等價交換，但人絕對會後悔，其實回到過去從來還是會做一樣的決定 
- 就算想得很完美，結果也不一定你想的，我也是研究所推甄放榜前想得很美好，
- 卻被現實打趴在地上。


- **決策審慎**：在做決定時要謹慎，但也要接受可能出現的錯誤，從中學習。
- **後悔與接受**：理解人生中的選擇和決定是等價交換的，無法避免後悔，學會接受並前進。
- **現實適應**：即使有美好的計劃，現實可能不同，應學會靈活應對和調整目標。

### 最後寄語

- 老師最後祝大家可以去到自己想去的地方，也謝謝小賴老師這學期的付出
---